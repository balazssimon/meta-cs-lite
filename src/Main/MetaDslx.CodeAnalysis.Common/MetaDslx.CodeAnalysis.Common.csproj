<Project Sdk="Microsoft.NET.Sdk">
	<Import Project="..\..\Versions.props" />

	<PropertyGroup>
		<TargetFrameworks>netstandard2.0</TargetFrameworks>
		<RootNamespace>MetaDslx.CodeAnalysis</RootNamespace>
		<AllowUnsafeBlocks>true</AllowUnsafeBlocks>

		<MetaDslxBootstrap>false</MetaDslxBootstrap>
	</PropertyGroup>
	
	<PropertyGroup Condition="'$(TargetFramework)' == 'netstandard2.0'">
		<NoWarn>$(NoWarn);nullable</NoWarn>
	</PropertyGroup>

	<ItemGroup>
		<InternalsVisibleTo Include="MetaDslx.CodeAnalysis.Parsers.Antlr" />
	</ItemGroup>

	<ItemGroup>
		<PackageReference Include="System.Collections.Immutable" Version="$(SystemCollectionsImmutableVersion)" />
		<PackageReference Include="System.Reflection.Metadata" Version="$(SystemReflectionMetadataVersion)" />
		<PackageReference Include="System.Text.Encoding.CodePages" Version="$(SystemTextEncodingCodePagesVersion)" />
		<PackageReference Include="System.Runtime.CompilerServices.Unsafe" Version="$(SystemRuntimeCompilerServicesUnsafeVersion)" />
		<PackageReference Include="Autofac" Version="$(AutofacVersion)" />
		<PackageReference Include="Microsoft.CodeAnalysis.CSharp" Version="$(MicrosoftCodeAnalysisCSharpVersion)" />
	</ItemGroup>
	<ItemGroup Condition="'$(TargetFramework)' == 'netstandard2.0'">
		<PackageReference Include="System.Memory" Version="$(SystemMemoryVersion)" />
		<PackageReference Include="System.Threading.Tasks.Extensions" Version="$(SystemThreadingTasksExtensionsVersion)" />
	</ItemGroup>
	<ItemGroup Condition="'$(TargetFramework)' == 'netstandard2.0'">
	  <ProjectReference Include="..\MetaDslx.NetStandard20Extensions\MetaDslx.NetStandard20Extensions.csproj" />
	</ItemGroup>
	<ItemGroup>
		<ProjectReference Include="..\MetaDslx.CodeAnalysis.Core\MetaDslx.CodeAnalysis.Core.csproj" />
	</ItemGroup>

	<ItemGroup>
		<Compile Remove="Modeling\Reflection\**" />
		<None Remove="Modeling\Reflection\**" />
		<Compile Remove="Symbols\MetaModelImport\**" />
		<None Remove="Symbols\MetaModelImport\**" />
	</ItemGroup>
	<ItemGroup>
		<AdditionalFiles Include="Symbols\*.mxs" />
	</ItemGroup>
	<ItemGroup>
		<Compile Remove="Symbols\Original\**" Condition="!$(MetaDslxBootstrap)" />
		<None Remove="Symbols\Original\**" Condition="!$(MetaDslxBootstrap)" />
		<Compile Remove="Symbols\CSharp\**" Condition="!$(MetaDslxBootstrap)" />
		<None Remove="Symbols\CSharp\**" Condition="!$(MetaDslxBootstrap)" />
		<Compile Remove="Symbols\Errors\**" Condition="!$(MetaDslxBootstrap)" />
		<None Remove="Symbols\Errors\**" Condition="!$(MetaDslxBootstrap)" />
		<Compile Remove="Symbols\Fixed\**" Condition="!$(MetaDslxBootstrap)" />
		<None Remove="Symbols\Fixed\**" Condition="!$(MetaDslxBootstrap)" />
		<Compile Remove="Symbols\Model\**" Condition="!$(MetaDslxBootstrap)" />
		<None Remove="Symbols\Model\**" Condition="!$(MetaDslxBootstrap)" />
		<Compile Remove="Symbols\Source\**" Condition="!$(MetaDslxBootstrap)" />
		<None Remove="Symbols\Source\**" Condition="!$(MetaDslxBootstrap)" />
		<Compile Remove="Binding\**" Condition="!$(MetaDslxBootstrap)" />
		<None Remove="Binding\**" Condition="!$(MetaDslxBootstrap)" />
		<Compile Remove="CommonOld\**" Condition="!$(MetaDslxBootstrap)" />
		<None Remove="CommonOld\**" Condition="!$(MetaDslxBootstrap)" />

		<Compile Remove="Symbols\Generated\**" Condition="$(MetaDslxBootstrap)" />
		<None Remove="Symbols\Generated\**" Condition="$(MetaDslxBootstrap)" />
		<Compile Remove="Symbols\Custom\**" Condition="$(MetaDslxBootstrap)" />
		<None Remove="Symbols\Custom\**" Condition="$(MetaDslxBootstrap)" />
		<Compile Remove="Symbols\Custom2\**" Condition="$(MetaDslxBootstrap)" />
		<None Remove="Symbols\Custom2\**" Condition="$(MetaDslxBootstrap)" />
		<Compile Remove="CommonNew\**" Condition="$(MetaDslxBootstrap)" />
		<None Remove="CommonNew\**" Condition="$(MetaDslxBootstrap)" />
		<Compile Remove="BindingNew\**" Condition="$(MetaDslxBootstrap)" />
		<None Remove="BindingNew\**" Condition="$(MetaDslxBootstrap)" />

		<Compile Remove="Symbols\Impl\**" />
		<None Remove="Symbols\Impl\**" />
	</ItemGroup>
</Project>
